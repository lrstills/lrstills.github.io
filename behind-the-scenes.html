<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Luke Ross Stills</title>
    <meta name="author" content="Luke Ross">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/gallery.css">

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <link rel="stylesheet" href="css/ie.css">
    <![endif]-->
    <script src="js/responsive-nav.js"></script>
  </head>
  <body>

    <header>
      <a href="#home" class="logo" data-scroll>Luke Ross Stills</a>
      <nav class="nav-collapse">
        <ul>
          <li class="menu-item active"><a href="index.html" data-scroll>Home</a></li>
          <li class="menu-item"><a href="unit-stills.html" data-scroll>Unit Stills</a></li>
          <li class="menu-item"><a href="behind-the-scenes.html" data-scroll>Behind The Scenes</a></li>
          <li class="menu-item"><a href="images/Unit-Stills-Luke-Ross-2022-CV.pdf" download>CV</a></li>
          <li class="menu-item"><a href="contact.html" data-scroll>Contact</a></li>
        </ul>
      </nav>
    </header>

    <div id="main">
        <div class="gallery" id="gallery">
        </div>
    </div>


    <script>
        var images = ["Dog Days-015.jpg","Dog Days-017.jpg","Dog Days-020.jpg","Dog Days-021.jpg","Dog Days-023.jpg","Dog Days-027.jpg","Dog Days-060.jpg","Dog Days-061.jpg","Dog Days-065.jpg","Dog Days-075.jpg","Dog Days-085.jpg","Dog Days-087.jpg","Dog Days-090.jpg","Dog Days-092.jpg","Dog Days-098.jpg","06-08-22-Shadow 146.jpg","06-08-22-Shadow 177.jpg","06-08-22-Shadow 220.jpg","06-08-22-Shadow 399.jpg","06-08-22-Shadow 490.jpg","06-08-22-Shadow 493.jpg","06-08-22-Shadow 521.jpg","06-08-22-Shadow 745.jpg","06-08-22-Shadow 8.jpg","06-08-22-Shadow 90.jpg","06-08-22-Shadow 91.jpg","DSCF2119.jpg","DSCF2205.jpg","DSCF2225.jpg","DSCF2232.jpg","DSCF2257.jpg","DSCF2261.jpg","DSCF2277.jpg","DSCF2283.jpg","DSCF3361.jpg","DSCF3394.jpg","DSCF3526.jpg","DSCF3614.jpg","DSCF3665.jpg","DSCF3737.jpg","DSCF3812.jpg","DSCF3820.jpg","DSCF3941.jpg","DSCF4404.jpg","DSCF4563.jpg","DSCF4615.jpg","DSCF4650.jpg","DSCF4765.jpg","DSCF4899.jpg","DSCF4924.jpg","DSCF5103.jpg","DSCF5197.jpg","DSCF5231.jpg","Dog Days-002.jpg","Dog Days-003.jpg","Dog Days-004.jpg","Dog Days-010.jpg","ForgetableBTS-1.jpg","ForgetableBTS-10.jpg","ForgetableBTS-14.jpg","ForgetableBTS-18.jpg","ForgetableBTS-22.jpg","ForgetableBTS-34.jpg","ForgetableBTS-40.jpg","ForgetableBTS-46.jpg","ForgetableBTS-6.jpg","ForgettableLR-1.jpg","ForgettableStills-28.jpg","ForgettableStills-29.jpg","Missionary-132.jpg","Missionary-133.jpg","Missionary-138.jpg","Missionary-141.jpg","Missionary-153.jpg","Missionary-160.jpg","Missionary-174.jpg","Missionary-189.jpg","Missionary-201.jpg","Missionary-203.jpg","Pigman156.jpg","Pigman179.jpg","Pigman185.jpg","Pigman233.jpg","Pigman246.jpg","Pigman466.jpg","Pigman649.jpg","Rhythms-09.jpg","Rhythms-11.jpg","Rhythms-15.jpg","Rhythms-22.jpg","Rhythms-23.jpg","Rhythms-25.jpg","Rhythms-26.jpg","Rhythms-34.jpg","Rhythms-35.jpg","Rhythms-42.jpg","Rhythms-47.jpg","IMG_3385.jpg","IMG_3387.jpg","IMG_3414.jpg","IMG_3435.jpg","IMG_6043.jpg",]

        var gallery = document.getElementById("gallery");

        for (var i = 0; i < images.length; i++) {
            gallery.innerHTML += "<div class='gallery-item'><div class='content'><img src='images/3. BTS/small/"+ images[i] + "' alt=''></div></div>"
        }

    </script>

    <script>
        var gallery = document.querySelector('#gallery');
        var getVal = function (elem, style) { return parseInt(window.getComputedStyle(elem).getPropertyValue(style)); };
        var getHeight = function (item) { return item.querySelector('.content').getBoundingClientRect().height; };
        var resizeAll = function () {
            var altura = getVal(gallery, 'grid-auto-rows');
            var gap = getVal(gallery, 'grid-row-gap');
            gallery.querySelectorAll('.gallery-item').forEach(function (item) {
                var el = item;
                el.style.gridRowEnd = "span " + Math.ceil((getHeight(item) + gap) / (altura + gap));
            });
        };
        gallery.querySelectorAll('img').forEach(function (item) {
            item.classList.add('byebye');
            if (item.complete) {
                console.log(item.src);
            }
            else {
                item.addEventListener('load', function () {
                    var altura = getVal(gallery, 'grid-auto-rows');
                    var gap = getVal(gallery, 'grid-row-gap');
                    var gitem = item.parentElement.parentElement;
                    gitem.style.gridRowEnd = "span " + Math.ceil((getHeight(gitem) + gap) / (altura + gap));
                    item.classList.remove('byebye');
                });
            }
        });
        window.addEventListener('resize', resizeAll);
        gallery.querySelectorAll('.gallery-item').forEach(function (item) {
            item.addEventListener('click', function () {        
                item.classList.toggle('full');
                if(item.classList.contains('full')) {
                  item.childNodes[0].childNodes[0].src = item.childNodes[0].childNodes[0].src.replace("small","large");
                  if (item.childNodes[0].childNodes[0].width < item.childNodes[0].childNodes[0].height){
                    item.classList.add('portrait');
                  }
                } else{
                  item.childNodes[0].childNodes[0].src = item.childNodes[0].childNodes[0].src.replace("large","small");
                  item.classList.remove('portrait');
                }        
            });
        });
    </script>
    <script src="js/fastclick.js"></script>
    <script src="js/scroll.js"></script>
    <script src="js/fixed-responsive-nav.js"></script>
  </body>
</html>